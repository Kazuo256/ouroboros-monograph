\def\classname#1{\texttt{#1}}

\chapter{Atividades Realizadas}
\label{sec:atividades}

  O objetivo desse capítulo é relatar as diversas atividades realizadas no
  planejamento e desenvolvimento do Projeto Ouroboros. Como ele é anterior ao
  nosso trabalho de formatura, descrevemos também as atividades dos anos
  anteriores. Explicamos como de fato implementamos a solução apresentada no
  capítulo anterior, as dificuldades técnicas encontradas e todos os outros
  recursos que utilizamos para concretizar nossa ideia.
  
  \section{Origem do projeto}
  \label{sec:atividades:origem}
  
    %TODO "estes que vos escrevem"
    %TODO Essa seção precisa ser beeeeeem mais detalhada.
    A proposta desse projeto foi elaborada no início deste ano, para o nosso
    trabalho de formatura supervisionado. No entanto, o sistema em si já havia
    sido desenvolvido por nós desde o começo de 2011. Ele era parte da UGDK, uma
    \emph{engine} de desenvolvimento de jogos eletrônicos bidimensionais (ou
    simplesmente jogos 2D) programada pela equipe USPGameDev, da qual
    fazemos parte\footnotemark. Nós desenvolvemos a porção que corresponde ao
    sistema atual quando acreditamos que seria útil que quem estivesse usando a
    UGDK pudesse facilmente integrar seus jogos com \script{s}.

    \footnotetext{
      O USPGameDev é um grupo de pesquisa e desenvolvimento de jogos da
      Universidade de São Paulo. A UGDK é um de seus principais projetos, e seu
      nome é um acrônimo que pode significar tanto \emph{USP Game Development
      Kit} quanto \emph{USPGameDev Kit}. Ela é desenvolvida em \CXX{}. Ver
      \url{uspgamedev.org} (última visita em 25/07/2013).
    }

    Mais especificamente, queríamos que essa integração fosse possível em um
    outro projeto, também do USPGameDev: o jogo eletrônico chamado \emph{Horus
    Eye}\footnotemark. Trata-se de uma aplicação feita em \CXX{} que usava os
    recursos da UGDK para construir os alicerces do jogo. A equipe estava tendo
    muitas dificuldades em expandir o conteúdo dele desde o seu lançamento em
    outubro de 2010, pois não só apenas os membros mais antigos sabiam programar
    em \CXX{}, como também só eles sabiam \emph{o quê} precisava ser mudado para
    obter os resultados desejados. O então chamado ``sistema de \script{s} da
    UGDK'' foi a solução que propomos.

    \footnotetext{
      Ver \url{uspgamedev.org/horus-eye} (último acesso em 25/07/2013)
    }

    A ideia era fornecer ferramentas que simplificassem o máximo possível a
    troca de dados do jogo com arquivos de \script{}. Depois bastaria isolar as
    partes mais críticas para a elaboração conteúdo novo do jogo de maneira que
    elas pudessem ser programadas inteiramente (ou pelo menos em grande parte)
    através de \script{s}. E dessa maneira tornamos possível aprimorar o jogo
    usando linguagens bem mais simples que \CXX{} e sem a necessidade de
    conhecer todas as minúcias do seu código.

    %TODO colocar imagens do horus antes e depois do sistema de scripts

    %
    %Dessa maneira, surgiu a ideia inicial de programar um conjunto de
    %funcionalidades capaz de facilitar a comunicação entre uma linguagem compilada
    %(\CXX{}) e uma linguagem de \script{}. No entanto, não conseguimos chegar
    %imediatamente a um consenso sobre qual linguagem de \script{} usar
    %especificamente. As mais comunmente conhecidas na área de desenvolvimento de
    %jogos eletrônicos são Lua e Python. Então de um lado tínhamos as vastas
    %extensões e facilidades de Python, e do outro a simplicidade minimalista e
    %versátil de Lua. O melhor jeito de resolver o impasse foi usar ambas.
    %
    %Isso levou ao então chamado "sistema de \script{s} da UGDK": um sistema que
    %premite que o desenvolvedor-usuário carregue módulos do seu jogo a partir de
    %\script{s} sem que ele tenha que se preocupar em determinar e tratar a linguagem
    %de origem deles. Com a ajuda de uma ferramenta que descobrimos nessa época
    %chamada SWIG, consequimos completar uma versão inicial do sistema de \script{s},
    %que existe até hoje no código da UGDK\footnote{Há planos para a UGDK usar
    %diretamente o sistema do Projeto Ouroboros quando ele estiver pronto,
    %abrindo mão do atual sistema de \script{s} próprio dela}.
  
  %\classname{UmaClasse} 
  %
  %\begin{codebox}
  %    \Procname{$\proc{XTR-mul}(x, y)$}
  %    \zi $\id{temp} \gets x_1 * y_2 + x_2 * y_1$
  %    \zi \Return $\proc{XTRElem}(x_2 * y_2 - \id{temp}, x_1 * y_1 -
  %    \id{temp})$
  %\end{codebox}
  
  \section{Uma interface comum para Lua e Python.}
  \label{sec:atividades:opa}
  
  TODO
  
  \section{Integração com SWIG}
  
  TODO
  
  \section{Problemas com SWIG}
  
  TODO
  
  \section{Nosso próprio gerador de \emph{wrappers}}
  
  TODO
  
  \section{Módulos de CMake}
  
  TODO
